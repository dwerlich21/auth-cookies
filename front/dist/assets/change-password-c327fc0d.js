import{n as c,h as L,a as B}from"./index-4f8ea07d.js";import{_ as C,a as E}from"./_plugin-vue_export-helper-9e0cfb91.js";import{W as o,b as k,v as S,F as t,H as e,f as a,x as p,n as I,y as q}from"./vendor-0c4ad4cf.js";import"./bootstrap-2bb6cffa.js";const A={data(){return{load:!1}},mounted(){document.querySelectorAll("form .auth-pass-inputgroup").forEach(function(u){u.querySelectorAll(".password-addon").forEach(function(m){m.addEventListener("click",function(){var d=u.querySelector(".password-input");d.type==="password"?d.type="text":d.type="password"})})});var l=document.getElementById("password-input"),s=document.getElementById("pass-lower"),i=document.getElementById("pass-upper"),r=document.getElementById("pass-number"),n=document.getElementById("pass-length");l.onkeyup=function(){var u=/[a-z]/g;l.value.match(u)?(s.classList.remove("invalid"),s.classList.add("valid")):(s.classList.remove("valid"),s.classList.add("invalid"));var m=/[A-Z]/g;l.value.match(m)?(i.classList.remove("invalid"),i.classList.add("valid")):(i.classList.remove("valid"),i.classList.add("invalid"));var d=/[0-9]/g;l.value.match(d)?(r.classList.remove("invalid"),r.classList.add("valid")):(r.classList.remove("valid"),r.classList.add("invalid")),l.value.length>=8?(n.classList.remove("invalid"),n.classList.add("valid")):(n.classList.remove("valid"),n.classList.add("invalid"))}},methods:{validatePassword(){this.load=!0;var l=document.getElementById("password-contain"),s=l.querySelector(".invalid");if(s){c("Preencha todos os requisitos"),setTimeout(()=>{this.load=!1},200);return}var i=document.getElementById("password-input"),r=document.getElementById("confirm-password-input");if(i.value!==r.value){c("As senhas não são iguais!"),setTimeout(()=>{this.load=!1},200);return}L.put("recuperar",{password:i.value,password2:r.value,token:this.$route.params.token}).then(n=>{B(n.data.message),setTimeout(()=>{this.$router.push("/login")},300)}).catch(n=>{c(n.response.data)}).finally(()=>{setTimeout(()=>{this.load=!1},200)})}}},P={class:"auth-page-wrapper pt-5"},z={class:"auth-page-content"},N={class:"text-center mt-2"},T={class:"p-2"},$={class:"mb-3"},F={class:"position-relative auth-pass-inputgroup"},R={class:"mb-3"},V={class:"position-relative auth-pass-inputgroup mb-3"},Z={class:"mt-4"},D={class:"d-flex align-items-center margin-load"},j={class:"mt-4 text-center"},H={class:"mb-0"},M={class:"footer"},W={class:"text-center"},Y={class:"mb-0 text-muted"};function G(l,s,i,r,n,u){const m=o("b-row"),d=o("BButton"),v=o("b-button"),f=o("b-card-body"),_=o("b-card"),b=o("router-link"),g=o("b-col"),w=o("b-container"),y=o("BCol"),h=o("BRow"),x=o("BContainer");return k(),S("div",P,[s[17]||(s[17]=t("div",{id:"auth-particles",class:"auth-one-bg-position auth-one-bg bg-soft-primary"},null,-1)),t("div",z,[e(w,null,{default:a(()=>[e(m),e(m,{class:"justify-content-center"},{default:a(()=>[e(g,{md:"8",lg:"6",xl:"5"},{default:a(()=>[e(_,{"no-body":""},{default:a(()=>[e(f,{class:"p-4"},{default:a(()=>[t("div",N,[s[9]||(s[9]=t("img",{src:E,alt:"logo_bauminas",height:"80"},null,-1)),s[10]||(s[10]=t("h5",{class:"text-primary mt-3"}," Esqueceu a Senha? ",-1)),s[11]||(s[11]=t("p",{class:"text-muted"}," Redefinir senha ",-1)),t("div",T,[t("form",null,[t("div",$,[s[2]||(s[2]=t("label",{class:"form-label",for:"password-input"},"Senha ",-1)),t("div",F,[s[1]||(s[1]=t("input",{id:"password-input",type:"password",class:"form-control pe-5 password-input",onpaste:"return false",placeholder:"Senha","aria-describedby":"passwordInput",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",required:""},null,-1)),e(d,{id:"password-addon",variant:"link",class:"position-absolute end-0 top-0 text-decoration-none text-muted password-addon"},{default:a(()=>s[0]||(s[0]=[t("i",{class:"ri-eye-fill align-middle"},null,-1)])),_:1,__:[0]})])]),t("div",R,[s[5]||(s[5]=t("label",{class:"form-label",for:"confirm-password-input"},"Confirmar Senha ",-1)),t("div",V,[s[4]||(s[4]=t("input",{id:"confirm-password-input",type:"password",class:"form-control pe-5 password-input",onpaste:"return false",placeholder:"Confirmar Senha",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",required:""},null,-1)),e(d,{id:"confirm-password-input1",variant:"link",class:"position-absolute end-0 top-0 text-decoration-none text-muted password-addon",type:"button"},{default:a(()=>s[3]||(s[3]=[t("i",{class:"ri-eye-fill align-middle"},null,-1)])),_:1,__:[3]})])]),s[8]||(s[8]=t("div",{id:"password-contain",class:"p-3 bg-light mb-2 rounded"},[t("h5",{class:"fs-13"}," A senha deve conter: "),t("p",{id:"pass-length",class:"invalid fs-12 mb-2"},[p(" No mínimo "),t("b",null,"8 caracteres")]),t("p",{id:"pass-lower",class:"invalid fs-12 mb-2"},[p(" Pelo menos uma letra "),t("b",null,"minúscula")]),t("p",{id:"pass-upper",class:"invalid fs-12 mb-2"},[p(" Pelo manos uma letra "),t("b",null,"Maiúscula")]),t("p",{id:"pass-number",class:"invalid fs-12 mb-0"},[p(" Pelo menos um "),t("b",null,"Número")])],-1)),t("div",Z,[e(v,{variant:"success",class:"w-100",onClick:u.validatePassword},{default:a(()=>[t("span",D,[s[7]||(s[7]=t("span",{class:"flex-grow-1 m-r-10"}," Atualizar Senha ",-1)),t("span",{class:I([{invisible:!n.load},"spinner-border flex-shrink-0"]),role:"status"},s[6]||(s[6]=[t("span",{class:"visually-hidden"},null,-1)]),2)])]),_:1},8,["onClick"])])])])])]),_:1})]),_:1}),t("div",j,[t("p",H,[s[13]||(s[13]=p(" Lembro da minha senha... ",-1)),e(b,{to:"/login",class:"fw-semibold text-primary text-decoration-underline"},{default:a(()=>s[12]||(s[12]=[p(" Login ",-1)])),_:1,__:[12]})])])]),_:1})]),_:1})]),_:1})]),t("footer",M,[e(x,null,{default:a(()=>[e(h,null,{default:a(()=>[e(y,{lg:"12"},{default:a(()=>[t("div",W,[t("p",Y,[p(" © "+q(new Date().getFullYear())+" ",1),s[14]||(s[14]=t("a",{target:"_blank",class:"text-primary",href:"https://lifecode.dev/"},"LifeCode. ",-1)),s[15]||(s[15]=p(" Feito com o ",-1)),s[16]||(s[16]=t("i",{class:"mdi mdi-heart text-danger"},null,-1))])])]),_:1})]),_:1})]),_:1})])])}const U=C(A,[["render",G]]);export{U as default};
