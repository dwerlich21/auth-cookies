// Import base variables first (no Bootstrap functions needed)
@import "variables-base";

// Import Bootstrap functions so they're available for the rest
@import "~bootstrap/scss/functions";

// Import the rest of variables (which use Bootstrap functions)
@import "variables";

:root {
  --height-timeline: 50%;
}

.flatpickr-input.input {
  border-bottom-left-radius: 0.25rem!important;
  border-top-left-radius: 0.25rem!important;
}

.break-spaces {
  white-space: break-spaces !important;
}

.timeline-item {
  width: 100% !important;
  padding: 10px 20px !important;
}

.Notivue__content-title {
  color: #000 !important;
}

.dragArea {
  min-height: 180px !important;
}

.btn-content {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: space-between;
}

.card-border {
  border: 1px solid rgba(223, 223, 223, 0.5);
  border-radius: 4px;
  overflow: visible;
}

.modal.show .modal-dialog {
  z-index: 2000;
}

.badge.b-form-tag {
  background-color: $primary !important;
  margin-right: 5px;

  span {
    font-size: 14px;
    margin-right: 5px;
  }
}

.app-search span.close-widget-icon {
  position: absolute;
  z-index: 10;
  font-size: 18px;
  line-height: 38px;
  right: 13px;
  top: 0;
  color: #878a99;
}

body {
  overflow-x: hidden;
}

#chat-conversation > div.simplebar-wrapper > div.simplebar-mask > div > div > div > ul > li > div > div.chat-avatar > .chat-img {
  margin-top: -50px;
}

.chat-conversation .conversation-list.left .ctext-wrap-content::after {
  content: '';
  display: block;
  position: absolute;
  width: 0;
  height: 0;
  border-style: solid;
  top: 0;
  right: 100%;
  border-color: transparent var(--vz-card-bg-custom) transparent transparent;
  border-width: 10px;
}

.chat-conversation .conversation-list.left .ctext-wrap-content {
  border-top-left-radius: 0 !important;
}

.chat-conversation .conversation-list.right .ctext-wrap-content {
  border-top-right-radius: 0 !important;
}

.chat-conversation .conversation-list.right .ctext-wrap-content::after {
  content: '';
  display: block;
  position: absolute;
  width: 0;
  height: 0;
  border-style: solid;
  top: 0;
  left: 100%;
  border-color: transparent transparent transparent #D8D9E1;
  border-width: 10px;
}

.left-50 {
  left: 50%;
}

.balloon {
  width: 40px;
  height: 40px;
  padding-top: 9px;
  z-index: 9999;
}

.bg-green {
  background: green;
}

textarea {
  min-height: 120px !important;
}

.modal-footer {
  border-top: solid 1px #e9ebec;
}

.badge {
  width: fit-content !important;
  height: auto !important;
}

.toast {
  display: none;
  position: fixed;
  z-index: 9999;
  bottom: 50px;
  left: 50%;
  transform: translate(-50%, -50%);
}

.toast-header .bx-x {
  position: absolute;
  right: 5px;
  top: 5px;
  font-size: 20px;
}

.toast-body i {
  font-size: 20px;
}

.toast-header i {
  font-size: 30px;
}

.margin-load {
  margin-right: -10px;
}

.m-r-10 {
  margin-right: 10px;
}

.pointer {
  cursor: pointer;
}

.form-control, .form-select {
  max-height: 40px;
}

.spinner {
  position: fixed;
  display: none;
  z-index: 9999;
}

.spinner-card {
  right: calc(50% - 2.5rem);
  top: calc(50% - 2.5rem);
}

.op-2 {
  opacity: .2;
}

.relative {
  position: relative !important;
}

.ri-arrow-drop-up-fill {
  position: absolute !important;
  top: 8px !important;
}

.ri-arrow-drop-down-fill {
  position: absolute !important;
  bottom: 8px !important;
}

/* Estilizando a barra de rolagem */
.custom-scrollbar::-webkit-scrollbar, .modal-body::-webkit-scrollbar, .tab-content::-webkit-scrollbar,
.Notivue__content-message::-webkit-scrollbar,
.fc-scroller.fc-scroller-liquid::-webkit-scrollbar {
  width: 6px !important; /* Largura da barra de rolagem */
}

/* Estilizando o trilho da barra de rolagem */
.custom-scrollbar::-webkit-scrollbar-track, .modal-body::-webkit-scrollbar-track, .tab-content::-webkit-scrollbar-track,
.Notivue__content-message::-webkit-scrollbar-track,
.fc-scroller.fc-scroller-liquid::-webkit-scrollbar-track {
  background-color: transparent !important; /* Cor de fundo do trilho */
}

/* Estilizando o "polegar" (a alça da barra de rolagem) */
.custom-scrollbar::-webkit-scrollbar-thumb, .modal-body::-webkit-scrollbar-thumb, .tab-content::-webkit-scrollbar-thumb,
.Notivue__content-message::-webkit-scrollbar-thumb,
.fc-scroller.fc-scroller-liquid::-webkit-scrollbar-thumb {
  background-color: $primary-10 !important; /* Cor do polegar */
  border-radius: 3px !important; /* Raio da borda do polegar */
}

/* Mudando a cor do "polegar" quando estiver passando o mouse */
.custom-scrollbar::-webkit-scrollbar-thumb:hover, .modal-body::-webkit-scrollbar-thumb:hover, .tab-content::-webkit-scrollbar-thumb:hover,
.Notivue__content-message::-webkit-scrollbar-thumb:hover,
.fc-scroller.fc-scroller-liquid::-webkit-scrollbar-thumb:hover {
  background-color: $primary-25 !important; /* Cor do polegar ao passar o mouse */
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover, .modal-body::-webkit-scrollbar-thumb:hover, .tab-content::-webkit-scrollbar-thumb:hover,
.Notivue__content-message::-webkit-scrollbar-thumb:hover,
.fc-scroller.fc-scroller-liquid::-webkit-scrollbar-thumb:hover {
  background-color: $primary-25 !important; /* Cor do polegar */
}

#timeline, #detailsLead {
  max-height: 75vh;
  overflow-y: auto;
  overflow-x: hidden;
}

.icon-add {
  position: absolute;
  right: 10px;
  top: 5px
}


.timeline-2::after {
  height: 100%;
}

#addActivity {
  position: absolute;
  right: 25px;
}

.spinner-line {
  display: none;
  position: absolute;
  right: calc(50% - 1rem)
}

#spinnerTable {
  display: block;
  position: sticky;
  //top: 10px
}

.modal-header.bg-soft-primary h5 {
  color: $primary;
}

.ck.ck-editor__main > .ck-editor__editable {
  height: 300px !important;
}

.ck.ck-editor__main > .ck-editor__editable:focus {
  border-color: $primary-50 !important;
}

.fc-event {
  cursor: pointer !important;
}


.row-equal-height {
  display: flex;
  flex-wrap: wrap;
}

.col-equal-height {
  display: flex;
  flex-direction: column;
}

.card-equal-height {
  display: flex;
  flex-direction: column;
  flex: 1; /* Ensure the card takes the full height of the column */
}

.fc.fc-media-screen {
  height: 100% !important;
}

.bg-primary-subtle, .fc-daygrid-dot-event.bg-primary-subtle, .bg-primary-subtle .fc-list-event-title a, a.fc-h-event.bg-primary-subtle, a.fc-h-event.bg-primary-subtle .fc-event-title.fc-sticky {
  background-color: #e4e1f4 !important;
  color: #4B38B3 !important;
}

.bg-success-subtle, .fc-daygrid-dot-event.bg-success-subtle, .bg-success-subtle .fc-list-event-title a, a.fc-h-event.bg-success-subtle, a.fc-h-event.bg-success-subtle .fc-event-title.fc-sticky {
  background-color: #e3f7ed !important;
  color: rgb(60, 209, 136) !important;
}

.bg-info-subtle, .fc-daygrid-dot-event.bg-info-subtle, a.fc-h-event.bg-info-subtle, a.fc-h-event.bg-info-subtle .fc-event-title.fc-sticky, .bg-info-subtle .fc-list-event-title a {
  background-color: #dff0fa !important;
  color: rgb(10, 199, 251) !important;
}

.bg-warning-subtle, .fc-daygrid-dot-event.bg-warning-subtle, a.fc-h-event.bg-warning-subtle, a.fc-h-event.bg-warning-subtle .fc-event-title.fc-sticky, .bg-warning-subtle .fc-list-event-title a {
  background-color: #fff5da !important;
  color: rgb(239, 174, 78) !important;
}

.bg-danger-subtle, .fc-daygrid-dot-event.bg-danger-subtle, a.fc-h-event.bg-danger-subtle, a.fc-h-event.bg-danger-subtle .fc-event-title.fc-sticky, .bg-danger-subtle .fc-list-event-title a {
  background-color: #fde8e4 !important;
  color: rgb(247, 102, 110) !important;
}

.fc-toolbar-chunk .btn-group .btn, .fc .fc-toolbar .btn {
  background: $dark!important;
  color: #FFF!important;
}

.fc-toolbar-chunk .btn-group .btn:hover {
  background: $gray-800!important;
}

.fc-toolbar-chunk .btn-group .btn.active {
  background: $gray-700!important;
}

.was-validated .ck.ck-editor.is-invalid {
  border: 1px solid #f7666e;
  border-radius: 4px;
}

.was-validated button.is-invalid {
  border-color: #f7666e !important;
}

.was-validated .ck.ck-editor.is-valid, .was-validated .b-form-tags.is-valid-tags {
  border: 1px solid #3cd188;
  border-radius: 4px;
}

.was-validated .form-control:invalid, .form-control.is-invalid {
  border-color: #f7666e !important;
  background-image: url('data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 12 12%27 width=%2712%27 height=%2712%27 fill=%27none%27 stroke=%27%23f7666e%27%3e%3ccircle cx=%276%27 cy=%276%27 r=%274.5%27/%3e%3cpath stroke-linejoin=%27round%27 d=%27M5.8 3.6h.4L6 6.5z%27/%3e%3ccircle cx=%276%27 cy=%278.2%27 r=%27.6%27 fill=%27%23f7666e%27 stroke=%27none%27/%3e%3c/svg%3e') !important;
}

.multiselect-option.is-pointed:hover {
  background: $primary-10 !important;
}

.multiselect-option.is-pointed:focus {
  background: $primary-25 !important;
}

.multiselect-options, .multiselect-no-options, .multiselect-no-results {
  background: white;
}

.bg-light.border-light {
  .multiselect-search, .multiselect-options, .multiselect-no-options, .multiselect-no-results {
    background: #F3F6F9 !important;
  }
}

.multiselect.bg-light.border-light {
  border-color: #F3F6F9 !important;
}

.multiselect.is-open.is-active {
  border: 1px solid $primary-10 !important;
}

.was-validated .multiselect.is-invalid, .multiselect.is-error {
  border: 1px solid #f7666e !important;
}

.was-validated .multiselect.is-valid {
  border: 1px solid #3cd188 !important;
}

// Timeline styles

.timeline-item {
  position: relative;
}

.timeline-item.timeline-item-end {
  margin-bottom: 0;
}

/* Date header - Cabeçalho de data */
.timeline-year {
  position: relative;
  z-index: 1;
  margin-bottom: 1.5rem;
}

.timeline-year p {
  background-color: #f8f9fa;
  color: #495057;
  font-weight: 600;
  font-size: 0.875rem;
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  margin: 0;
  display: inline-block;
  letter-spacing: 0.5px;
}

/* Timeline continue structure - Estrutura de continuação da timeline */
.timeline-continue {
  position: relative;
  padding-left: 2rem;
}

.timeline-continue::before {
  content: '';
  position: absolute;
  left: 0.75rem;
  top: 0;
  bottom: 0;
  width: 2px;
  background-color: #000000;
  z-index: 0;
}

.timeline-item-end .timeline-continue::before {
  display: none;
}

/* Timeline right content - Conteúdo direito da timeline */
.timeline-right {
  position: relative;
  margin-bottom: 1.5rem;
}

.timeline-right::before {
  content: '';
  position: absolute;
  left: -1.875rem;
  top: 0.5rem;
  width: 0.75rem;
  height: 0.75rem;
  background-color: #000000;
  border-radius: 50%;
  border: 3px solid #ffffff;
  box-shadow: 0 0 0 2px #000000;
  z-index: 1;
}

/* Time indicator - Indicador de tempo */
.timeline-date {
  color: #6c757d;
  font-size: 0.8125rem;
  font-weight: 500;
  margin-bottom: 0.75rem;
  letter-spacing: 0.3px;
}

/* Timeline box - Caixa da timeline */
.timeline-box {
  border: 1px solid #e9ecef;
  border-radius: 0.5rem;
  padding: 1.25rem;
  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
  transition: box-shadow 0.15s ease-in-out;
}

/* Timeline text content - Conteúdo de texto da timeline */
.timeline-text h5 {
  color: #495057;
  font-weight: 600;
  font-size: 1rem;
  line-height: 1.4;
}

.timeline-text p {
  color: #6c757d;
  line-height: 1.6;
  margin-bottom: 0;
}

/* Avatar styles - Estilos do avatar */
.avatar-sm {
  width: 2rem;
  height: 2rem;
}

/* Edit mode styles - Estilos do modo de edição */
.edit-mode {
  background-color: #fffbf0;
  border: 1px solid #fed7aa;
  border-radius: 0.375rem;
  padding: 1rem;
}

.edit-mode .form-control {
  border-color: #fed7aa;
}

.edit-mode .form-control:focus {
  border-color: #f59e0b;
  box-shadow: 0 0 0 0.2rem rgba(245, 158, 11, 0.25);
}

.btn-link {
  color: #6c757d;
  text-decoration: none;
}

.btn-link:hover {
  color: #495057;
  text-decoration: underline;
}

.btn-light {
  background-color: #f8f9fa;
  border-color: #dee2e6;
  color: #495057;
}

.btn-light:hover {
  background-color: #e2e6ea;
  border-color: #dae0e5;
  color: #495057;
}

/* Action buttons - Botões de ação */
.action-btn {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #dee2e6;
  background-color: #ffffff;
  color: #6c757d;
  transition: all 0.2s ease;
}

.action-btn:hover {
  background-color: #f8f9fa;
  border-color: #adb5bd;
  color: #495057;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.action-btn.text-danger {
  color: #dc3545;
}

.action-btn.text-danger:hover {
  background-color: #f8d7da;
  border-color: #f5c6cb;
  color: #721c24;
}

/* Replies section - Seção de respostas */
.replies-section {
  border-left: 2px solid #e9ecef;
  margin-left: 1rem;
  padding-left: 1rem;
}

.new-reply {
  background-color: #f8f9fa;
  border-radius: 0.375rem;
  padding: 1rem;
}

/* Text formatting - Formatação de texto */
.mention {
  background-color: rgba(13, 110, 253, 0.1);
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
  font-weight: 500;
}

/* Responsive design - Design responsivo */
@media (max-width: 768px) {
  .timeline-continue {
    padding-left: 1.5rem;
  }

  .timeline-right::before {
    left: -1.375rem;
  }

  .timeline-box {
    padding: 1rem;
  }

  .d-flex.justify-content-between {
    flex-direction: column;
    gap: 0.75rem;
  }

  .d-flex.align-items-center.gap-3 {
    flex-direction: column;
    align-items: flex-start !important;
    gap: 0.5rem !important;
  }
}

.timeline-header {
  padding: 0 12px 12px 12px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

.user-info {
  flex-grow: 1;
}

.activity-meta {
  flex-shrink: 0;
}

.timeline-icon-wrapper {
  position: relative;
}

.timeline-icon {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  border: 1.5px solid #fff;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.timeline-icon:hover {
  transform: translateY(-1px);
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);
}

.timeline-time-info {
  display: flex;
  align-items: center;
  background: #fff;
  padding: 6px 12px;
  border-radius: 16px;
  border: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.timeline-date {
  margin: 0;
  line-height: 1.2;
  letter-spacing: 0.02em;
  color: #6c757d;
}

@media (max-width: 768px) {
  .timeline-header {
    flex-direction: column;
    gap: 12px;
  }

  .activity-meta {
    align-self: flex-end;
  }
}

[data-layout-mode="dark"] {

  .card-bord {
    border: 1px solid rgba(223, 223, 223, 0.3);
  }

  .b-form-tags-input {
    outline: #ced4da none 0px !important;
    color: #ced4da !important;
  }

  .multiselect-options, .multiselect-no-options, .multiselect-no-results {
    background: #262A2F;
  }

  .multiselect-no-options, .multiselect-no-results, .ck.ck-toolbar > .ck-toolbar__items > :not(.ck-toolbar__line-break),
  .ck.ck-toolbar > .ck.ck-toolbar__grouped-dropdown, .ck.ck-dropdown .ck-button.ck-dropdown__button {
    font-weight: 400;
    color: #9ca3af;
  }

  .ck.ck-editor__main > .ck-editor__editable, .multiselect.is-open.is-active,
  .ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar, .ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners {
    border: 1px solid #2a2f34 !important;
  }

  .ck.ck-editor__main > .ck-editor__editable:focus, .multiselect.is-open.is-active {
    border: 0.1px solid rgba(206, 212, 218, .1) !important;
    box-shadow: 0 0 0 0 $primary-10;
  }

  .modal-header.bg-soft-primary h5 {
    color: #FFF !important;
  }

  .ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar, .ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners,
  .ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar, .ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners,
  .ck-rounded-corners .ck.ck-editor__main > .ck-editor__editable, .ck.ck-editor__main > .ck-editor__editable.ck-rounded-corners {
    background: #262A2F;
    color: white !important;
  }

  .fc .fc-list-sticky .fc-list-day > * {
    background: rgb(26, 29, 33) !important;
  }

  .btn-soft-secondary {
    color: #6d7080 !important;;
  }

  .text-primary {
    color: #CED4DA !important;
  }

  .bg-primary-subtle, .fc-daygrid-dot-event.bg-primary-subtle, .bg-primary-subtle .fc-list-event-title a, & a.fc-h-event.bg-primary-subtle, & a.fc-h-event.bg-primary-subtle .fc-event-title.fc-sticky {
    color: #e4e1f4 !important;
    background-color: #4B38B3 !important;
  }

  .bg-success-subtle, .fc-daygrid-dot-event.bg-success-subtle, .bg-success-subtle .fc-list-event-title a, & a.fc-h-event.bg-success-subtle, & a.fc-h-event.bg-success-subtle .fc-event-title.fc-sticky {
    color: #e3f7ed !important;
    background-color: rgb(60, 209, 136) !important;
  }

  .bg-info-subtle, .fc-daygrid-dot-event.bg-info-subtle, & a.fc-h-event.bg-info-subtle, & a.fc-h-event.bg-info-subtle .fc-event-title.fc-sticky, .bg-info-subtle .fc-list-event-title a {
    color: #dff0fa !important;
    background-color: rgb(10, 199, 251) !important;
  }

  .bg-warning-subtle, .fc-daygrid-dot-event.bg-warning-subtle, & a.fc-h-event.bg-warning-subtle, & a.fc-h-event.bg-warning-subtle .fc-event-title.fc-sticky, .bg-warning-subtle .fc-list-event-title a {
    color: #fff5da !important;
    background-color: rgb(239, 174, 78) !important;
  }

  .bg-danger-subtle, .fc-daygrid-dot-event.bg-danger-subtle, & a.fc-h-event.bg-danger-subtle, & a.fc-h-event.bg-danger-subtle .fc-event-title.fc-sticky, .bg-danger-subtle .fc-list-event-title a {
    color: #fde8e4 !important;
    background-color: rgb(247, 102, 110) !important;
  }

  .multiselect-options {
    background: #262a2f !important;
  }

  #chat-conversation > div.simplebar-wrapper > div.simplebar-mask > div > div > div > ul > li.right > div > div.user-chat-content > div > div.ctext-wrap-content > p {
    color: aliceblue;
  }

  #chat-conversation > div.simplebar-wrapper > div.simplebar-mask > div > div > div > ul > li.left > div > div.user-chat-content > div > div.ctext-wrap-content > p {
    color: black;
  }

  #channelList > li.active > a > div > div.flex-grow-1.overflow-hidden > p {
    color: aliceblue;
  }

  .chat-conversation .conversation-list.right .ctext-wrap-content::after {
    border-color: transparent transparent transparent #1F2329;
  }

  .chat-conversation .conversation-list.left .ctext-wrap-content::after {
    border-color: transparent #FFFFFF transparent transparent;
  }

  .custom-card {
    border-color: #32383e;
  }

  .bg-secondary {
    background-color: #32383e !important;
  }

  .btn-soft-primary {
    color: #ced4da !important;
  }

  .nav-border-top-primary .nav-link.active {
    color: white;
    border-top-color: white;
  }

  .timeline-year p {
    background-color: #2d3748;
    color: #e2e8f0;
  }

  .timeline-continue::before {
    background-color: #32383e;
  }

  .timeline-right::before {
    background-color: #32383e;
    box-shadow: 0 0 0 2px #32383e;
  }

  .timeline-text h5 {
    color: #e2e8f0;
  }

  .timeline-text p,
  .text-muted {
    color: #a0aec0 !important;
  }

  .timeline-date {
    color: #a0aec0;
  }

  .btn-light {
    background-color: #4a5568;
    border-color: #718096;
    color: #e2e8f0;
  }

  .btn-light:hover {
    background-color: #718096;
    color: #f7fafc;
  }

  .action-btn {
    background-color: #2d3748;
    border-color: #4a5568;
    color: #a0aec0;
  }

  .action-btn:hover {
    background-color: #4a5568;
    border-color: #718096;
    color: #e2e8f0;
  }

  .action-btn.text-danger {
    color: #fc8181;
  }

  .action-btn.text-danger:hover {
    background-color: #2d1b1b;
    border-color: #4a2c2c;
    color: #feb2b2;
  }

  .dropdown-menu {
    background-color: #2d3748;
    border-color: #4a5568;
  }

  .dropdown-item {
    color: #e2e8f0;
  }

  .dropdown-item:hover {
    background-color: #4a5568;
    color: #f7fafc;
  }

  .replies-section {
    border-left-color: #4a5568;
  }

  .new-reply {
    background-color: #4a5568;
  }

  .edit-mode {
    background-color: #2d3748;
    border-color: #ecc94b;
  }

  .timeline-box {
    background: #2A2F34;
    border: solid 1px #32383e;
  }

  .timeline-header {
    border-bottom: 1px solid #32383e;
  }

  .timeline-time-info, .action-btn {
    background: #212529;
  }

  .multiselect.is-disabled {
    background: #0506061f;
  }
}